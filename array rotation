#include <stdio.h>
#include <stdlib.h>
#include <ctype.h>
#define maxN 30

void rotate(int v[maxN], int n, int p, int dir);
void print_array(int *a, int n);
int main(void){
    int n, i ,dir ,p;
    int array[maxN];

    // p represent how many data to be shifted
    // dir = -1 (right)
    // dir = 1 (left)

    fprintf(stdout,"insert size array:\n");
    scanf("%d", &n);
    fprintf(stdout,"insert array:\n");
    for (i=0; i<n ; i++){
        scanf("%d", &array[i]);
    }

    do{
        fprintf(stdout,"Insert p (elements) and dir (-1 right) (1 left):\n");
        scanf("%d%d", &p , &dir);
        rotate(array,n,p,dir);
        print_array(array,n);

    }while (p!=0);




    return (EXIT_SUCCESS);
}
void rotate(int v[maxN], int n, int p, int dir){

    int i, j,  tmp;
    if(dir == 1){
        
        //shift left
        for(i=0 ;i<p ; i++){
            tmp = v[n-1];
            for(j = n-1 ;j>0 ;j--){
                v[j] = v[j-1];
            }
            v[0] = tmp;
        }

    }else if(dir == -1){
        // shift right
        for(i=0 ;i<p;i++){
            tmp = v[0];
            for(j=0;j<n;j++){
                v[j] = v[j+1];
            }
            v[n-1] = tmp;
        }
    }else{
        fprintf(stdout,"dir can be (-1 or 1) only:\n");

    }
    return;
}
void print_array(int *a, int n){
    int i;
    fprintf(stdout,"your array:\n");
    for(i=0;i<n;i++) {
        fprintf(stdout, "%d", a[i]);
    }
    fprintf(stdout,"\n");
    return;
}
