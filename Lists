#include <stdio.h>
#include <stdlib.h>
#include <string.h>


// single linked list
typedef struct node{
    int data;
    struct node *link;
}node;
void count_nodes(struct node *head);
int main(void){
    node *head = malloc(sizeof (node));
    if(head == NULL){
        fprintf(stderr,"memory allocation failed");
        exit(EXIT_FAILURE);
    }
    head->data = 100;
    head->link = NULL;

    node *current = malloc(sizeof (node));
    if(current == NULL){
        fprintf(stderr,"memory allocation failed");
        exit(EXIT_FAILURE);
    }
    current->data = 110;
    current->link = NULL;
    head->link = current;

    current = malloc(sizeof (node));
    if(current == NULL){
        fprintf(stderr,"memory allocation failed");
        exit(EXIT_FAILURE);
    }
    current->data = 130;
    current->link = NULL;

    head->link->link = current;
    count_nodes(head);
    return EXIT_SUCCESS;
}
void count_nodes(struct node *head){
    int count = 0;
    if(head == NULL){
        printf("0 nodes");
    }
    struct node *ptr = NULL;
    ptr = head;
    while (ptr != NULL){
        count++;
        ptr = ptr->link;
    }
    printf("number of nodes: %d", count);
    return;
}
